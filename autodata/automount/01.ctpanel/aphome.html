<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<script src="./static/js/vue.js"></script>
	<script src="./static/js/plugin.js"></script>
	<script src="./static/js/element.js"></script>
	<link rel="stylesheet" href="./static/css/plugin.css" type="text/css">
	<link rel="stylesheet" href="./static/css/element.css" type="text/css">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1,IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" >
    <title>首页</title>
	<style>
		@charset "UTF-8";
		o{
			-moz-box-sizing: content-box;-webkit-box-sizing: content-box;-o-box-sizing: content-box;
			-ms-box-sizing: content-box;box-sizing: content-box; 
		}
		*::-webkit-scrollbar-track{background-color: transparent; }
		*::-webkit-scrollbar {width: 12px;height: 12px;}
		*::-webkit-scrollbar-thumb {
			background-color: #898989;border: 4px solid transparent;
			background-clip: content-box;border-radius: 10px;
		}
		*, *:before, *:after {
			-moz-box-sizing: border-box;-webkit-box-sizing: border-box;-o-box-sizing: border-box;
			-ms-box-sizing: border-box;box-sizing: border-box; 
		}
		.clearfix {*zoom: 1;}
		.clearfix:before, .clearfix:after {display: table;line-height: 0;content: "";}
		.clearfix:after {clear: both;}
		html, body {margin: 0;padding: 0;height:100%; width: 100%;overflow: hidden;}
		html{-ms-text-size-adjust: 100%;-webkit-text-size-adjust: 100%;font-size:62.5%;}
		body {
			font-family: Microsoft YaHei, Tahoma, Arial, Helvetica, sans-serif;font-size: 1.2rem;text-align: left;
			color: #666;background-color: #fff;background-repeat: no-repeat;background-position: top center; 
		}
		h1, h2, h3, h4, h5, h6, ul, li, dl, dt, dd, form, img, p, hr, samp, em{
			margin: 0;padding: 0;border: none;list-style-type: none;
		}
		i, em{font-style:normal}
		a {color: #0088cc;text-decoration: none;}
		a:hover {text-decoration: underline;}
		input, button, select, textarea, option {
			font-family: Microsoft YaHei, Tahoma, Arial, Helvetica, sans-serif;
			font-size: 12px;color: #535453;outline: none;
		}
		input::-webkit-input-placeholder, textarea::-webkit-input-placeholder {color:#a8a8a9;}
		input:-moz-placeholder, textarea:-moz-placeholder {color:#a8a8a9;}
		input::-moz-placeholder, textarea::-moz-placeholder {color:#a8a8a9;}
		input:-ms-input-placeholder, textarea:-ms-input-placeholder {color:#a8a8a9;}
		input, button, select{outline:none}
		.tl {text-align: left;}
		.tr {text-align: right;}
		.tc {text-align: center;}
		.tt {vertical-align: top !important;}
		.tm {vertical-align: middle;}
		.tb {vertical-align: bottom;}
		.fl {float: left;}
		.fr {float: right;}
		.fc {clear: both;vertical-align: middle;margin: 0 auto;}
		.p-10{padding: 10px;}
		.cursor{cursor: pointer;}
		.h5{ clear:both; height: 5px;}
		.h10{ clear:both; height: 10px;}
		.h15{ clear:both; height: 15px;}
		.h20{ clear:both; height: 20px;}
		.h40{ clear:both; height: 40px;}
		.txt_bend{table-layout: fixed;word-wrap:break-word;word-break:break-all;}
		.btn{
			display: inline-block; padding: 4px 20px; background: #fff; border:1px solid #ddd; font-size: 12px;
			color: #a2a9af; text-align:center; cursor: pointer;transition: all 0.4s ease 0s;border-radius: 2px;
		}
		.btn:hover{color: #89949b;}
		.bnt_h45 {padding: 14px 30px;border: none;cursor: pointer;text-align: center;white-space: nowrap;border-radius: 5px;}
		.btn_green{ background: #59cba0; border: 1px solid #59cba0; color: #fff; }
		.btn_green:hover{ background:#7ad5b3; border: 1px solid #7ad5b3; color: #fff;}
		.btn_blue{ background: #3e8cd4;border: 1px solid #3e8cd4;color: #fff; }
		.btn_blue:hover{ background:#65a3dd; border: 1px solid #65a3dd;  color: #fff; }
		.btn_red{background: #fe6f73;border: 1px solid #fe6f73;color: #fff; }
		.btn_red:hover{ background: #fe8c8f; border: 1px solid #fe8c8f; color: #fff;}
		.btn_gray,.btn_gray:hover{background: #dddddd; border: 1px solid #dddddd; color: #a8a8a8; cursor:not-allowed; }
		.filter_gray{-webkit-filter: grayscale(100%);-webkit-filter: grayscale(1);filter: grayscale(100%);}
		.colorB {color: #3e8cd4;}
		.colorG{color: #59cba0;}
		.colorR {color: #fe6f73;}
		.colorY {color: #f8a636;}
		.colorGrayA {color: #a6a6a6;}
		.colorGray {color: #898989;}
		.colorT {color: #666;}
		.shadow-A{
			-moz-box-shadow: 1px 1px 5px rgba(0,0,0,0.3);
			-webkit-box-shadow: 1px 1px 5px rgba(0,0,0,0.3);box-shadow: 1px 1px 5px rgba(0,0,0,0.3) ;
		}
		.shadow-B{
			-moz-box-shadow: 2px 1px 2px rgba(0,0,0,0.3) ;
			-webkit-box-shadow: 2px 1px 2px rgba(0,0,0,0.3) ;box-shadow: 2px 1px 2px rgba(0,0,0,0.3) ;
		}
		.fillet{border-radius:4px}
		.prompt-head{height:0; width:100%; display: none;}
		.prompt-head-div{display:inline-block;position:relative; padding:4px 20px; }
		header {background-color: #1d74b2;color: #FFF;padding: 0 20px;height: 50px;}
		nav{}
		section{}
		footer{}
		@media (max-width: 767px){
			.back_header {padding: 0 8px;}
		}
		.header_logo {display:inline-block;height: 100%;vertical-align: middle;}
		.header_logo p{display: inline-table;height: 100%;}
		.header_logo a{display: table-cell; vertical-align: middle;}
		.header_logo img {height: 24px;vertical-align: middle;}
		.header_edition{display:inline-block; margin-left: 6px;vertical-align: middle;}
		.head_function{ height:50px; float:right; margin-left: 15px; margin-right: 15px;}
		.head_function > li{ float:left; height:100%; display: inline-table; position:relative; margin-left:15px; margin-right:15px;}
		.head_function a{ color:#FFF; display: table-cell; vertical-align: middle;}	
		.head_function > li:hover > dl.head_dropdown{display: inline-block;}
		.head_dropdown{ 
			display:none;position: absolute;top:45px;right: -10px;border: solid 1px #ddd;
			background-color: #fff; color:#8c8c8c;box-shadow:0px 2px 5px rgba(0,0,0,0.3);
		}
		.head_dropdown::before{
			display:block;content:'';border-width:8px 8px 8px 8px;border-style:solid;left:40px;top:-17px;
			border-color:transparent transparent #ddd transparent;position:absolute;
		}
		.head_dropdown::after{
			display:block;content:'';border-width:8px 8px 8px 8px;border-style:solid;left:40px;top:-16px;
			border-color:transparent transparent #fff transparent;position:absolute;
		}
		.head_dropdown > dd{padding:6px 12px;cursor: pointer;}
		.head_dropdown dd:hover{cursor:hand;color:#1d74b2;}
		section {display: block;float: left;width: calc(100%);height: calc(100vh - 50px);}
		.container {width: 100%;height: 100%;overflow: auto;}
		.tooltip{
			display:none;position: absolute;top:24px;right: -10px;padding: 0;width:auto;border: solid 1px #ddd;
			background-color: #fff; color:#8c8c8c;text-align:center;
			box-shadow:0px 2px 5px rgba(0,0,0,0.3);transform:translate(0,0);z-index: 2;
		}
		.tooltip:before,.tooltip:after{
			position:absolute;display:block;content:'';border-width:8px;border-style:solid;
			border-color:transparent;right: 10px;transform:translate(0,0);
		}	
		.tooltip:before{border-bottom-color: #ddd;top:-17px;}
		.tooltip:after{border-bottom-color: #fff;top:-16px;}
		.title_h3{min-height: 42px;padding: 10px 20px;background-color: #e9e9e9;}
		.title_h3 h3 {display: inline-block;float: left;font-size: 1.4rem;color: #333333;font-weight: normal;}
		.title_h3 .helpService{display: inline-block;float:right;padding-top: 2px;}
		.helpService li{display: inline-block;position: relative;margin: 0 5px;}
		.helpService a{color:#666;font-size:1.2rem;}
		.title_h4 {position: relative;height: 16px;width: 100%;margin-top: 10px;margin-bottom: 10px;}
		.title_h4:after{
			position:absolute;display:block;content:'';top:8px;left:140px;height: 1px;
			width: calc(100% - 140px);background-color: #e8e8e8;
		}
		.title_h4 h4 {float: left;color: #333;font-weight: 400;}
		.helpService li:hover .helpService_tooltip{display:block;}
		.helpService_tooltip{top:24px;right: -14px;padding: 6px 10px;width: 190px;text-align: left;transform:translate(0,0);}
		.helpService_tooltip:before,.helpService_tooltip:after{right: 16px;}
		.help{position: relative;display: inline-block;margin-left: 8px;cursor: pointer;vertical-align: middle;}
		.help_ico{
			display: inline-block;padding: 1px 0 2px;min-width: 15px;background: #ccc;border-radius: 10px;color: #fff;
			font-weight: 700;text-align: center;line-height: 12px;font-size: 12px;font-style: normal;text-decoration: none;}
		.help:hover .help_ico{background: #1D74B2;text-decoration: none;}
		.help:hover .help_tooltip{display: block;}
		.help_tooltip{padding: 6px 10px;min-width: 180px;left: -10px;text-align: left;}
		.help_tooltip:before,.help_tooltip:after{left: 8px;right: auto;transform:translate(0,0);}
		.box {width: 100%;padding: 20px;padding-bottom: 40px;}
		.max_w{max-width: 1000px;padding: 30px 30px;margin: 0;}
		.content {display: grid;grid-gap: 20px 10px;grid: auto auto /100px calc(50% - 115px) 100px calc(50% - 115px);}
		@media ( max-width : 769px) {
			.content {grid: auto auto auto auto /100px calc(100% - 115px);}
		}
		@media ( max-width : 414px) {
			.content {grid: auto auto auto auto /100%;grid-gap: 5px 10px;}
			.gd{ margin-bottom: 20px;}
			.header_edition{ display: none;}
		}
		.info{
			display: none;position: fixed;top:0;left: 0;width: 100vw;
			height: 100vh;background-color: rgba(0,0,0,0.4);z-index: 500;
		}
		.info_div{
			position: fixed;top:30%;left: 50%; transform:translateX(-50%); width: 300px;  height: auto;
			background-color: #fff;border-radius: 4px;z-index: 501;
		}
		.info_tit{border-bottom: 1px solid #eff0f4;font-size: 16px;overflow: hidden;padding: 8px 20px;}
		.info_tit p {line-height: 25px;font-size: 14px;}
		.info_Close {
			cursor: pointer;float: right;font-size: 21px;font-weight: normal;line-height: 1;padding: 0 4px;
			position: relative;color: #bebebe;right: -5px;top: 0px;text-decoration: none;
		}
		.info_Close:hover{color: #fe6f73;text-decoration: none;}
		.margin-t-10 {margin-top: 10px;}
		.html_load  {
			position: fixed;width: 100vw;height: 100vh;min-height: 360px;background:#1d74b2;font-size: 12px;
			font-family: Microsoft YaHei, Tahoma, Arial, Helvetica, sans-serif;z-index: 1000;
			-webkit-box-shadow:0px 0px 200px rgba(0,0,0,0.2) inset;
			-moz-box-shadow:0px 0px 200px rgba(0,0,0,0.2) inset;
			-ms-box-shadow:0px 0px 200px rgba(0,0,0,0.2) inset;
			-o-box-shadow:0px 0px 200px rgba(0,0,0,0.2) inset;
			box-shadow:0px 0px 200px rgba(0,0,0,0.2) inset;
		}
		.checkbox {display:inline-block;font-size: 12px;min-height: 20px;padding-left: 22px;position: relative;cursor:pointer;}
		.checkbox input[type="checkbox"] {display: none;}
		.checkbox input[type="checkbox"] + span{
			position:absolute;height:12px;width:12px;left:0px;line-height:12px;display:inline-block;
			border:1px solid #ddd;background-color:transparent;border-radius: 2px;box-sizing: content-box;
		}
		.checkbox input[type="checkbox"]:checked + span{background:#3e8cd4;border: 1px solid #3e8cd4;border-radius: 2px;}

		.checkbox input[type="checkbox"]:checked + span:before {color:#fff;content:'✔';padding-left: 2px;}
		.checkbox input[type="checkbox"]:disabled + span{background:#dfdfdf;border: 1px solid #dfdfdf;border-radius: 2px;}
		.html_load .head_function{ height:50px; float:right; margin-left: 15px; margin-right: 15px;}
		.html_load .head_function > li{ 
			float:left; height:100%; display: inline-table; position:relative; margin-left:15px; margin-right:15px;
		}
		.html_load .head_function a{ color:#FFF; display: table-cell; vertical-align: middle;}	
		.html_load .head_function > li:hover > dl.head_dropdown{display: inline-block;}
		.html_load .head_dropdown{ 
			display:none;position: absolute;top:45px;right: -10px;border: solid 1px #ddd;
			background-color: #fff; color:#8c8c8c;box-shadow:0px 2px 5px rgba(0,0,0,0.3);
		}
		.html_load .head_dropdown::before{
			display:block;content:'';border-width:8px 8px 8px 8px;border-style:solid;left:40px;top:-17px;
			border-color:transparent transparent #ddd transparent;position:absolute;
		}
		.html_load .head_dropdown::after{
			display:block;content:'';border-width:8px 8px 8px 8px;border-style:solid;left:40px;top:-16px;
			border-color:transparent transparent #fff transparent;position:absolute;
		}
		.html_load .head_dropdown > dd{padding:6px 12px;cursor: pointer;}
		.html_load .head_dropdown dd:hover{cursor:hand;color:#1d74b2;}
		.login{
			position:absolute;top:30%;left:0;right:0;width: 360px;height:310px;
			margin: auto;padding-left:30px; padding-right:30px;color:#FFF;
		}
		.login .text_center{
			-webkit-animation: centerShow 1.2s ease;-moz-animation: centerShow 1.2s ease;
			-ms-animation: centerShow 1.2s ease;-o-animation: centerShow 1.2s ease;animation: centerShow 1.2s ease;
		}
		@-webkit-keyframes centerShow {
			0% { opacity: 0;}
			100% { opacity: 1;}
		}
		@-moz-keyframes centerShow {
			0% { opacity: 0;}
			100% { opacity: 1;}
		}
		@-ms-keyframes centerShow {
			0% { opacity: 0;}
			100% { opacity: 1;}
		}
		@keyframes centerShow {
			0% { opacity: 0;}
			100% { opacity: 1;}
		}
		.load_ul li{ margin-bottom:10px; margin-top:10px;}
		.login input.inptText{
			display: inline-block;height: 40px; width: 100%;padding:6px 5%;
			border-radius: 0;border-width: 0;outline:none;
		}
		.div_info{ position:relative; margin-bottom: 15px;}
		.login input[type="button"]{ 
			display: inline-block;height: 40px;width: 100%;margin-right:0;font-size:16px;outline:none;
		}
		.cue{margin-bottom: 15px; min-height:20px;}
		.state{ text-align:right;}
		.state a{ color:#FFF;}
		.login input.user , .login input.password{ 	line-height:40px; padding:0; padding-left:40px;}
		.user_ico , .password_ico{ display:inline-block; height:40px; width:40px; position:absolute; left:0; top:0; background-repeat:no-repeat; background-position:center center; }
		.user_ico{ background-image:url(data:image/svg+xml;base64,PHN2ZyB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsPSIjNEM5MkMzIiBkPSJNMTkuOCwyMC42Yy0yLjYsMC00LjgtMi4yLTQuOC00LjhjMC0yLjYsMi4yLTQuOCw0LjgtNC44czQuOCwyLjIsNC44LDQuOEMyNC42LDE4LjQsMjIuNCwyMC42LDE5LjgsMjAuNnoKCSBNMTkuOCwxMmMtMi4xLDAtMy44LDEuNy0zLjgsMy44YzAsMi4xLDEuNywzLjgsMy44LDMuOGMyLjEsMCwzLjgtMS43LDMuOC0zLjhDMjMuNiwxMy43LDIxLjksMTIsMTkuOCwxMnogTTI3LjUsMjguM2gtMTUKCWMtMC4zLDAtMC41LTAuMi0wLjUtMC41di0xLjVjMC0yLjUsMS45LTQuNyw0LjItNC43aDcuNmMyLjMsMCw0LjIsMi4yLDQuMiw0Ljd2MS41QzI4LDI4LjEsMjcuOCwyOC4zLDI3LjUsMjguM3ogTTEzLDI3LjNoMTR2LTEKCWMwLTItMS41LTMuNy0zLjItMy43aC03LjZjLTEuNywwLTMuMiwxLjctMy4yLDMuN1YyNy4zeiIvPgo8L3N2Zz4K);}
		.password_ico{ background-image:url( data:image/svg+xml;base64,PHN2ZyB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsPSIjNEM5MkMzIiBkPSJNMjUuMSwyOEgxNC45Yy0wLjQsMC0wLjktMC4zLTAuOS0xdi02LjZjMC0wLjcsMC41LTEsMC45LTFoMTAuMmMwLjUsMCwwLjksMC40LDAuOSwwLjlWMjcKCUMyNiwyNy43LDI1LjUsMjgsMjUuMSwyOHogTTE1LDI3aDEwbDAtNi42SDE1TDE1LDI3eiBNMjUuMSwyMC40TDI1LjEsMjAuNEwyNS4xLDIwLjR6IE0yNCwxOC42Yy0wLjMsMC0wLjUtMC4yLTAuNS0wLjVWMTYKCWMwLTEuNi0xLjYtMy0zLjUtM2MtMS45LDAtMy41LDEuNC0zLjUsM3YyLjFjMCwwLjMtMC4yLDAuNS0wLjUsMC41cy0wLjUtMC4yLTAuNS0wLjVWMTZjMC0yLjIsMi00LDQuNS00czQuNSwxLjgsNC41LDR2Mi4xCglDMjQuNSwxOC40LDI0LjMsMTguNiwyNCwxOC42eiIvPgoKPC9zdmc+); }
		#logoCS{width:130px; height:52px; margin:10px auto; margin-bottom:20px;}
		.bayleyssvg {display: block;width:130px; height:52px;}
		.bayleys {stroke: #ffffff;stroke-width: 0;fill-opacity: 0;stroke-dasharray:600;animation: logo 1.5s linear forwards;}
		.bayleysB{fill: #ffffff;stroke-width: 0;opacity: 1;animation: logoB 1.5s linear forwards;}
		@keyframes logo {
			0% { stroke-width: 1px; stroke-dashoffset: 600; }
			40% { stroke-width: 1px; }
			100% { stroke-width: 0px;  stroke-dashoffset: 0;}
		}
		@keyframes logoB {
			0% { opacity: 0;}
			40% { opacity: 0;}
			100% { opacity: 1; }
		}
		.password_checkbox input[type="checkbox"] + span{ top:1px;}
		.password_checkbox input[type="checkbox"]:checked + span{
			background-color: transparent; border: 1px solid #fff; border-radius: 2px;
		}
		.password_reset{ display: inline-block; position: relative; color: #fff; cursor:pointer;}
	</style>
</head>
<body>
	
	<!-- html_load 登录 -->
	<div class="html_load" id="loginPage">
		<!--头部功能-->
		<ul class="head_function">
			<li><a href="https://www.ikuai8.com/" target="_blank" id="lang0">官网</a></li>
			<li><a href="http://bbs.ikuai8.com/" target="_blank" id="lang1">论坛</a></li>
			<li id="languageLogin">
				<a class="show_lang">简体中文</a>
				<dl class="head_dropdown" style="width:75px">
					<dd onclick="switchLanguage(1,0)">简体中文</dd>
					<dd onclick="switchLanguage(3,0)">繁体中文</dd>
					<dd onclick="switchLanguage(2,0)">English</dd>
				</dl>
			</li>
		</ul>
		<!--登录页面-->
		<div class="login clearfix">
			<ul class="load_ul">
				<li class="tc">
					<!--<img src="../images/logo_Login.png" width="140">-->
					<div id="logoCS">
						<svg version="1.1" class="bayleyssvg"
							xmlns:dc="http://purl.org/dc/elements/1.1/" 
							xmlns:cc="http://creativecommons.org/ns#" 
							xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" 
							xmlns:svg="http://www.w3.org/2000/svg"
							xmlns="http://www.w3.org/2000/svg" 
							xmlns:xlink="http://www.w3.org/1999/xlink" 
							x="0px" y="0px" 
							xml:space="preserve" >
							<rect class="bayleys" x="1.3" y="3.1" width="8.2" height="6.9"/>
							<path class="bayleys" d="M9.5,41l0-28.1H1.3l0,34.1h1.1C5.4,47,8.8,44.9,9.5,41z"/>
							<path class="bayleys" d="M21.3,39.2l0-36.2h-8.2l0,44h1.1C17.2,47,20.6,44.2,21.3,39.2z"/>
							<polygon class="bayleys" points="40.4,47 50.8,47 31.7,24.1 49.3,3 38.9,3 26.5,17.9 21.3,24.1 26.5,30.3 "/>
							<path class="bayleys" d="M74.3,16.7l0,25.2H59l0-25.2h-6.2l0,24.6c0.6,3.7,3.1,5.7,5.3,5.7H59l0,0h15.4h4.8h1.4l0-30.3 H74.3z"/>
							<path class="bayleys" d="M117,33.2L117,33.2l0-6.4l0,0l0-4.1l0,0v-0.9c0-2.3-2.1-5-5.9-5.5H84l0,6.4h27.9l0,4.1h-22C86,27.4,84,30,84,32.3l0,0.9l0,0V40l0,0v0.9v0l0,0.1h0c0.1,2.3,2.1,4.9,5.8,5.4H117V40l0,0L117,33.2z M89.2,40l0-6.8h22.6l0,6.8 H89.2z"/>
							<rect class="bayleys" x="120.4" y="3.2" width="8.2" height="6.9"/>
							<path class="bayleys" d="M128.7,41l0-28.1h-8.2l0,34.1h1.1C124.6,47,127.9,44.9,128.7,41z"/>
							<rect class="bayleysB" x="1.3" y="3.1" width="8.2" height="6.9"/>
							<path class="bayleysB" d="M9.5,41l0-28.1H1.3l0,34.1h1.1C5.4,47,8.8,44.9,9.5,41z"/>
							<path class="bayleysB" d="M21.3,39.2l0-36.2h-8.2l0,44h1.1C17.2,47,20.6,44.2,21.3,39.2z"/>
							<polygon class="bayleysB" points="40.4,47 50.8,47 31.7,24.1 49.3,3 38.9,3 26.5,17.9 21.3,24.1 26.5,30.3 "/>
							<path class="bayleysB" d="M74.3,16.7l0,25.2H59l0-25.2h-6.2l0,24.6c0.6,3.7,3.1,5.7,5.3,5.7H59l0,0h15.4h4.8h1.4l0-30.3 H74.3z"/>
							<path class="bayleysB" d="M117,33.2L117,33.2l0-6.4l0,0l0-4.1l0,0v-0.9c0-2.3-2.1-5-5.9-5.5H84l0,6.4h27.9l0,4.1h-22C86,27.4,84,30,84,32.3l0,0.9l0,0V40l0,0v0.9v0l0,0.1h0c0.1,2.3,2.1,4.9,5.8,5.4H117V40l0,0L117,33.2z M89.2,40l0-6.8h22.6l0,6.8 H89.2z"/>
							<rect class="bayleysB" x="120.4" y="3.2" width="8.2" height="6.9"/>
							<path class="bayleysB" d="M128.7,41l0-28.1h-8.2l0,34.1h1.1C124.6,47,127.9,44.9,128.7,41z"/>
						</svg>
					</div>
				</li>
				<!-- <li class="text_center">
					<div class="div_info">
						<span class="user_ico"></span> 
						<input type="text" placeholder="用户名" class="user inptText">
					</div>
				</li> -->
				<li class="text_center">
					<div class="div_info">
						<span class="password_ico"></span>
						<input class="password inptText" placeholder="密码" type="password" id="password" />
					</div>
				</li>
				<li class="text_center">
					<div class="cue" id="login_error" style="display:none">
						<span class="colorR" id="lang2">密码错误</span>
					</div>
					<input type="button" value="登   录" class="btn btn_green" id="btnLogin" onclick="login()"/>
					<input type="button" value="登录中……" class="btn btn_green" id="btnLogging" style="display:none"/>
					<p class="colorR tc margin-t-10"></p>
					<div class="password_Help">
						<label class="checkbox password_checkbox">
							<input type="checkbox" value="" id="remember">
							<span></span>
							<span id="lang3">记住密码</span>
						</label>
					</div>
				</li>
			</ul>
		</div>
	</div>

	<!-- html_box -->
	<div class="html_box" id="contentPage">
		<!--信息弹框-->
		<div class="info" style="display:none" id="hintWindow">
			<div class="info_div">
				<div class="info_tit">
					<p class="fl" id="lang17">提示</p>
					<a class="info_Close fr" onclick="hide($('hintWindow'))">×</a>
				</div>
				<div class="info_box" >
					<div class="h20"></div>
					<div class="tc" style=" padding: 0 20px;">
						<p id="lang18">切换工作模式后，设备将自动重启并重新获取IP地址，是否继续？</p>
						<div class="h20"></div>
						<input class="btn btn_green" type="button" id="btnSure" value="确定" onclick="workmode()">
						&nbsp;
						<input class="btn" type="button" id="btnCancel" value="取消" onclick="hide($('hintWindow'))">
						<div class="h20"></div>
					</div>
				</div>
			</div>
		</div>
		<!--头部-->
		<header>
			<!--logo-->
			<div class="header_logo">
				<p>
					<a>
						<svg x="0px" y="0px" width="67px" height="24px" viewBox="0 0 67 24" 
							xmlns="http://www.w3.org/2000/svg">
							<style>.s{ fill:#fff;}</style>
							<path class="s" d="M0.5,24H0L0,6h4l0,14.7C4,22.8,2,24,0.5,24z 
								M10,19.7L10,0H6l0,24h0.5C8,24,10,22.5,10,19.7z 
								M4,0H0l0,4h4V0z
								M67,20.7L67,6h-4l0,18h0.5C65,24,67,22.9,67,20.7z 
								M67,0h-4l0,4h4L67,0z 
								M38,7l0,13h-7V7h-4l0,14c0,2,1.6,3,2.8,3H42l0-17H38z
								M20.1,24h5.5L15.5,11.5L24.7,0h-5.5L10,11.5L20.1,24z 
								M61,24l-13.9,0c-2-0.3-3-1.7-3-3l0-4.5c0-1.3,1-3,3-3l11,0V11l-14,0l0-4l14,0
								c2,0,3,1.7,3,3L61,24z M58,20l0-3l-11,0l0,3L58,20z"/>
						</svg>
					</a>
				</p>
			</div>
			<!--版本号-->
			<div class="header_edition">
				<p id="model"></p>
				<p id="verstring"></p>
			</div>
			<!--头部功能-->
			<ul class="head_function">
				<li id="languageLi" style="display:none">
					<a class="show_lang">简体中文</a>
					<dl class="head_dropdown" style="width:75px">
						<dd onclick="switchLanguage(1,1)">简体中文</dd>
						<dd onclick="switchLanguage(3,1)">繁体中文</dd>
						<dd onclick="switchLanguage(2,1)">English</dd>
					</dl>
				</li>
				<li><a style="cursor:pointer" onclick="logout()" id="lang4">退出</a></li>
			</ul>
		</header>
		<!--内容-->	
		<section>
			<div class="container">
				<!--标题-->
				<div class="title_h3"><h3 id="lang5">系统概览</h3></div>
				<!--内容快-->
				<div class="box">
					<div id="app" class="wrapper row"  v-loading="loading" :element-loading-text="loading_text">
						<div class="title_h4"><h4>已安装插件</h4></div>
						<ul class="plugin_list">
							<li v-for="item in installed">
								<a :href="getLinkUrl(item)" target="_blank">
									<img :src= "getLogoUrl(item)" style="width: 48px; height: 48px">
									<p>{{item.alias}}</p>
								</a>
							</li>
						</ul>
						<div class="title_h4"><h4 >系统升级</h4></div>
						<div class="max_w">
							<div class="line_edit">
							<span class="input_tit">本地升级：</span>
							<div class="input_group">
								<div class="type_file file_W tl margin-r-5 fl">
									<input type="text" id="sysupgradefileName" class="inptText textfield rounded"> 
									<input name="" type="submit" class="btn btn_blue rounded type_file_button height26 fl" value="选择文件">
									<input type="file" id="sysupgradefileUploads"  accept=".bin" class="type_file_file fileField" onchange="document.getElementById('sysupgradefileName').value = this.files[0].name;">
								</div>
							</div>
							<div class="input_P" style="padding-top: 0px;">
								<input value="确认上传" @click="uploadFiramware"  type="button" class="btn btn_green rounded height26"> 
							</div>
						</div>
					</div>
					<div class="title_h4"><h4 id="lang6">设备状态</h4></div>
					<div class="max_w">
						<div class="content">
							<div class="gh" id="lang7">连接状态：</div>
							<div class="gd colorG" id="lang19">已连接</div>
							<div class="gd colorR" id="lang20" style="display: none;">未连接</div>
							<div class="gh" id="lang8">主设备IP：</div>
							<div class="gd" id="ipaddr"></div>
							<div class="gh" id="lang9">运行时间：</div>
							<div class="gd" id="uptime"></div>
							<div class="gh" id="lang10">连接时间：</div>
							<div class="gd" id="linktime"></div>
							<div class="gh" id="lang21">主设备状态：</div>
							<div class="gd colorG" id="lang22">正常</div>
							<div class="gd colorR" id="lang23" style="display: none;">当前版本不支持</div>
							<div class="gh"></div>
							<div class="gd"></div>
							<div class="gh">SSID1: </div>
							<div class="gd" id="ssid1"></div>
							<div class="gh">SSID2: </div>
							<div class="gd" id="ssid2"></div>
							<div class="gh">SSID3: </div>
							<div class="gd" id="ssid3"></div>
							<div class="gh">SSID4: </div>
							<div class="gd" id="ssid4"></div>
						</div>
					</div>
					<div class="h20"></div>
					<div class="title_h4"><h4 id="lang11">系统信息</h4></div>
					<div class="max_w">
						<div class="content">
							<div class="gh" id="lang13">设备型号：</div>
							<div class="gd" id="modelname">IK-Q1800</div>
							<div class="gh" id="lang14">固件版本：</div>
							<div class="gd" id="version"></div>
							<div class="gh" id="lang15">MAC地址：</div>
							<div class="gd" id="device_mac"></div>
							<div class="gh" id="lang12">设备名：</div>
							<div class="gd" id="comment"></div>
						</div>
					</div>

					

					<div class="h20"></div>
					<div class="title_h4"><h4 id="lang16">模式切换</h4></div>
					<div class="max_w">
						<input class="btn btn_blue bnt_h45" id="btnWork" value="切换并重启" 
							onclick="show($('hintWindow'))" type="button">
					</div>
					<div class="h20"></div>
				</div>
			</div>
		</section>
		<footer></footer>
	</div>
</body>
<script>
	function MD5() {
		var hexcase = 0;
		var b64pad = "";
		var chrsz = 8;
		this.hex_md5 = function(s) {
			return binl2hex(core_md5(str2binl(s), s.length * chrsz));
		}
		this.b64_md5 = function(s) {
			return binl2b64(core_md5(str2binl(s), s.length * chrsz));
		}
		this.str_md5 = function(s) {
			return binl2str(core_md5(str2binl(s), s.length * chrsz));
		}
		this.hex_hmac_md5 = function(key, data) {
			return binl2hex(core_hmac_md5(key, data));
		}
		this.b64_hmac_md5 = function(key, data) {
			return binl2b64(core_hmac_md5(key, data));
		}
		this.str_hmac_md5 = function(key, data) {
			return binl2str(core_hmac_md5(key, data));
		}
		this.md5_vm_test = function() {
			return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";
		}
		function core_md5(x, len) {
			x[len >> 5] |= 0x80 << ((len) % 32);
			x[(((len + 64) >>> 9) << 4) + 14] = len;
			var a = 1732584193,
				b = -271733879,
				c = -1732584194,
				d = 271733878;
			for (var i = 0; i < x.length; i += 16) {
				var olda = a,
					oldb = b,
					oldc = c,
					oldd = d;
				a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
				d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
				c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
				b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
				a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
				d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
				c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
				b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
				a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
				d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
				c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);
				b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
				a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
				d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
				c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
				b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
				a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
				d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
				c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
				b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
				a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
				d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
				c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
				b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
				a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
				d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
				c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
				b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
				a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
				d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
				c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
				b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);
				a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);
				d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
				c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
				b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
				a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
				d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
				c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
				b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
				a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
				d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
				c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
				b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
				a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
				d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
				c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
				b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);
				a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
				d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
				c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
				b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
				a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
				d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
				c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
				b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
				a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
				d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
				c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
				b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
				a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
				d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
				c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
				b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);
				a = safe_add(a, olda);
				b = safe_add(b, oldb);
				c = safe_add(c, oldc);
				d = safe_add(d, oldd);
			}
			return Array(a, b, c, d);
		}
		function md5_cmn(q, a, b, x, s, t) {
			return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);
		}
		function md5_ff(a, b, c, d, x, s, t) {
			return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
		}
		function md5_gg(a, b, c, d, x, s, t) {
			return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
		}
		function md5_hh(a, b, c, d, x, s, t) {
			return md5_cmn(b ^ c ^ d, a, b, x, s, t);
		}
		function md5_ii(a, b, c, d, x, s, t) {
			return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
		}
		function core_hmac_md5(key, data) {
			var bkey = str2binl(key);
			if (bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);
			var ipad = Array(16),
				opad = Array(16);
			for (var i = 0; i < 16; i++) {
				ipad[i] = bkey[i] ^ 0x36363636;
				opad[i] = bkey[i] ^ 0x5C5C5C5C;
			}
			var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);
			return core_md5(opad.concat(hash), 512 + 128);
		}
		function safe_add(x, y) {
			var lsw = (x & 0xFFFF) + (y & 0xFFFF);
			var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
			return (msw << 16) | (lsw & 0xFFFF);
		}
		function bit_rol(num, cnt) {
			return (num << cnt) | (num >>> (32 - cnt));
		}
		function str2binl(str) {
			var bin = Array();
			var mask = (1 << chrsz) - 1;
			for (var i = 0; i < str.length * chrsz; i += chrsz)
				bin[i >> 5] |= (str.charCodeAt(i / chrsz) & mask) << (i % 32);
			return bin;
		}
		function binl2str(bin) {
			var str = "";
			var mask = (1 << chrsz) - 1;
			for (var i = 0; i < bin.length * 32; i += chrsz)
				str += String.fromCharCode((bin[i >> 5] >>> (i % 32)) & mask);
			return str;
		}
		function binl2hex(binarray) {
			var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
			var str = "";
			for (var i = 0; i < binarray.length * 4; i++) {
				str += hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8 + 4)) & 0xF) + hex_tab.charAt((binarray[i >> 2] >> ((i % 4) * 8)) & 0xF);
			}
			return str;
		}
		function binl2b64(binarray) {
			var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
			var str = "";
			for (var i = 0; i < binarray.length * 4; i += 3) {
				var triplet = (((binarray[i >> 2] >> 8 * (i % 4)) & 0xFF) << 16) | (((binarray[i + 1 >> 2] >> 8 * ((i + 1) % 4)) & 0xFF) << 8) | ((binarray[i + 2 >> 2] >> 8 * ((i + 2) % 4)) & 0xFF);
				for (var j = 0; j < 4; j++) {
					if (i * 8 + j * 6 > binarray.length * 32) str += b64pad;
					else str += tab.charAt((triplet >> 6 * (3 - j)) & 0x3F);
				}
			}
			return str;
		}
	}
	function Base64() {
		_keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
		this.encode = function(input) {
			var output = "",
				chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;
			input = _utf8_encode(input);
			while (i < input.length) {
				chr1 = input.charCodeAt(i++);
				chr2 = input.charCodeAt(i++);
				chr3 = input.charCodeAt(i++);
				enc1 = chr1 >> 2;
				enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
				enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
				enc4 = chr3 & 63;
				if (isNaN(chr2)) {
					enc3 = enc4 = 64;
				} else if (isNaN(chr3)) {
					enc4 = 64;
				}
				output = output + _keyStr.charAt(enc1) + _keyStr.charAt(enc2) + _keyStr.charAt(enc3) + _keyStr.charAt(enc4);
			}
			return output;
		};
		this.decode = function(input) {
			var output = "",
				chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;
			input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
			while (i < input.length) {
				enc1 = _keyStr.indexOf(input.charAt(i++));
				enc2 = _keyStr.indexOf(input.charAt(i++));
				enc3 = _keyStr.indexOf(input.charAt(i++));
				enc4 = _keyStr.indexOf(input.charAt(i++));
				chr1 = (enc1 << 2) | (enc2 >> 4);
				chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
				chr3 = ((enc3 & 3) << 6) | enc4;
				output = output + String.fromCharCode(chr1);
				if (enc3 != 64) {
					output = output + String.fromCharCode(chr2);
				}
				if (enc4 != 64) {
					output = output + String.fromCharCode(chr3);
				}
			}
			output = _utf8_decode(output);
			return output;
		};
		_utf8_encode = function(string) {
			string = string.replace(/\r\n/g, "\n");
			var utftext = "";
			for (var n = 0; n < string.length; n++) {
				var c = string.charCodeAt(n);
				if (c < 128) {
					utftext += String.fromCharCode(c);
				} else if ((c > 127) && (c < 2048)) {
					utftext += String.fromCharCode((c >> 6) | 192);
					utftext += String.fromCharCode((c & 63) | 128);
				} else {
					utftext += String.fromCharCode((c >> 12) | 224);
					utftext += String.fromCharCode(((c >> 6) & 63) | 128);
					utftext += String.fromCharCode((c & 63) | 128);
				}
			}
			return utftext;
		};
		_utf8_decode = function(utftext) {
			var string = "",
				i = 0,
				c = c1 = c2 = 0;
			while (i < utftext.length) {
				c = utftext.charCodeAt(i);
				if (c < 128) {
					string += String.fromCharCode(c);
					i++;
				} else if ((c > 191) && (c < 224)) {
					c2 = utftext.charCodeAt(i + 1);
					string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
					i += 2;
				} else {
					c2 = utftext.charCodeAt(i + 1);
					c3 = utftext.charCodeAt(i + 2);
					string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
					i += 3;
				}
			}
			return string;
		};
	}
	// 原生脚本，获取response的header信息，并整理成对象
	function ajaxGetAllResponseHeaders(xhr) {
		var str = xhr.getAllResponseHeaders(),
			ary = str.split('\r\n'), result = {};
		for (var i = 0; i < ary.length; i++) {
			var kv = ary[i].split(': ');
			result[kv[0]] = isNaN(kv[1]) ? kv[1] : kv[1] * 1;
		}
		return result;
	}
	// 原生脚本提交，当需要绕开axios.interceptors.response.use时使用
	function ajaxPost(url, data, success, error, async) {
		var para = {
			url: url,
			data: data || {},
			success: success || function () { },
			error: error || function () { }
		};
		async = async == undefined ? true : async;
		var xhr = new XMLHttpRequest();
		xhr.open('POST', para.url, async);
		xhr.onload = function (e) {
			if (xhr.status == 200 || xhr.status == 304 || xhr.status == 0) {
				var data = JSON.parse(e.target.responseText);
				data.headers = ajaxGetAllResponseHeaders(xhr);
				para.success(data);
			}
			else {
				para.error(JSON.parse(e.target));
			}
		};
		xhr.onerror = function (e) {
			error(e);
		};
		if (!async) {
			try {
				xhr.timeout = 1000;
				xhr.ontimeout = function () {
					error('timeout');
				};
			} catch (e) {
				setTimeout(function () {
					xhr.abort();
					error('timeout');
				}, 1000);
			}
		}
		xhr.setRequestHeader('Content-Type', 'application/json');
		xhr.send(JSON.stringify(para.data));
	}
	function setCookie(name, value, days, path, domain, secure) {
		var text = name + '=' + value + ';';
		text += days > 0 ? 'expires=' + new Date((new Date()).getTime() + days * 24 * 60 * 60 * 1000).toGMTString() + ';' : 'expires=Session;';
		text += path ? 'path=' + path + ';' : 'path=/;';
		text += domain ? 'domain=' + domain + ';' : '';
		text += secure ? 'secure' : '';
		document.cookie = text;
	}
	function show(dom) {
		dom.style.display = "block";
	}
	function hide(dom) {
		dom.style.display = "none";
	}

	var $ = document.getElementById.bind(document),
		_ = document.querySelectorAll.bind(document);
	var language = ["", "简体中文", "English", "繁体中文"];
	var langs = [
		['', '官网', 'Website', '官網'],//0
		['', '论坛', 'Forum', '論壇'],//1
		['', '密码错误', 'Password Error', '密碼錯誤'],//2
		['', '记住密码', 'Remember password', '記住密碼'],//3
		['', '退出', 'Logout', '註銷'],//4
		['', '系统概览', 'System Overview', '系統概覽'],//5
		['', '设备状态', 'Device Status', '設備狀態'],//6
		['', '连接状态：', 'Connection Status:', '連接狀態：'],//7
		['', '主设备IP：', 'Main Device IP:', '主設備IP：'],//8
		['', '运行时间：', 'Operation Hours:', '運行時間：'],//9
		['', '连接时间：', 'Connection Time:', '連接時間：'],//10
		['', '系统信息', 'System Message', '系統資訊'],//11
		['', '备注：', 'Comment:', '備註：'],//12
		['', '设备型号：', 'Device Model:', '設備型號：'],//13
		['', '固件版本：', 'Firmware Version:', '固件版本：'],//14
		['', 'MAC地址：', 'MAC Address:', 'MAC地址：'],//15
		['', '模式切换', 'Mode Switch', '模式切換'],//16
		['', '提示', 'Hint', '提示'],//17
		['', 
			'切换工作模式后，设备将自动重启并重新获取IP地址，是否继续？', 
			'After switching the working mode, the device will automatically restart and obtain an IP address again. Do you want to continue?', 
			'切換工作模式後，設備將自動重啟並重新獲取IP地址，是否繼續？'
		],//18
		['', '已连接', 'Connected', '已連接'],//19
		['', '未连接', 'Not connected', '未連接'],//20
		['', '主设备状态：', 'Master device status:', '主設備狀態：'],//21
		['', '正常', 'Normal', '正常'],//22
		['', '当前版本不支持', 'The current version does not support', '當前版本不支持'],//23
		['', '登   录', 'Login', '登   入'],//24
		['', '登录中……', 'Logging...', '登入中……'],//25
		['', '切换并重启', 'Switch and Restart', '切換並重啓'],//26
		['', '确定', 'OK', '確定'],//27
		['', '取消', 'Cancel', '取消'],//28
		['', '密码', 'Password', '密碼']//29
	];
	var langIndex = 1, langcut = false;
	var b64 = new Base64();

	(function() {
		var xhr = new XMLHttpRequest();
		xhr.open('GET', document.location, false);
		xhr.send(null);
		var headers = ajaxGetAllResponseHeaders(xhr);

		hasLang = headers["x-support-i18n"] * 1 == 1;
		langIndex = localStorage.getItem("language") ? localStorage.getItem("language") * 1 : 1;
		langIndex = headers["x-lang"] ? headers["x-lang"] * 1 : langIndex;
		switchLanguage(langIndex, -1);
		if (localStorage.getItem('rememberPass') != undefined && localStorage.getItem('rememberPass') != '') {
			var ary = localStorage.getItem('rememberPass').split(',');
			$('password').value = b64.decode(ary[1]);
			$('remember').checked = true;
		}
		if (hasLang) {
			$("languageLi").style.display = '';
			$("languageLogin").style.display = '';
		} else {
			hide($("languageLi"));
			hide($("languageLogin"));
		}

		if (window.location.href.indexOf("/login") < 0) {
			hide($("loginPage"));
			showData();
		}
	}());

	function switchLanguage(index, sub) {
		var dom = _(".show_lang"), sign = 24;
		dom[0].innerHTML = language[index];
		dom[1].innerHTML = language[index];
		var i = 0;
		for (i = 0; i < sign; i++) {
			$("lang" + i).innerHTML = langs[i][index];
		}
		var ary = ["btnLogin", "btnLogging", "btnWork", "btnSure", "btnCancel"];
		for (i = 0; i < ary.length; i++) {
			$(ary[i]).value = langs[i + sign][index];
		}
		$("password").placeholder = langs[langs.length - 1][index];

		localStorage.setItem('language', index);
		langIndex = index;

		if (sub == 1) {
			setLanguage(showData);
		}
		if (sub == 0) {
			langcut = true;
		}
	}
	function login() {
		hide($('login_error'));
		hide($("btnLogin"));
		show($("btnLogging"));

		var md5 = new MD5(),
			user = "admin", pass = $('password').value,
			passM = md5.hex_md5(pass), passB = b64.encode(pass);
		if ($('remember').checked) {
			localStorage.setItem('rememberPass', [user, passB].toString());
		} else {
			localStorage.removeItem('rememberPass');
		}

		ajaxPost('/Action/login', {
			username: user, passwd: passM
		}, function (res) {
			if (res.Result == 10000) {
				setCookie('username', user, 30);
				setCookie('login', 1, 30);

				if (langcut) {
					setLanguage(loginSuccess);
				} else {
					loginSuccess();
				}
			} else {
				show($("loginPage"));
				show($('login_error'));
				show($("btnLogin"));
				hide($("btnLogging"));
			}
		}, function(err) {
			alert(err);
		});
	}
	function loginSuccess() {
		show($("btnLogin"));
		hide($("btnLogging"));
		location.href = location.origin;
	}
	function setLanguage(callback) {
		ajaxPost("/Action/call", {
			func_name: 'apsysinfo',
			action: 'set_language',
			param: {
				language: langIndex
			}
		}, function(res) {
			if (callback) {
				setTimeout(function() {
					callback();
				}, 1000);
			}
		}, function(err) { });
	}
	function showData() {
		ajaxPost("/Action/call", {
			func_name: 'apsysinfo',
			action: 'show',
			param: {
				TYPE: "ac_info,sys_info,wifi_info"
			}
		}, function(res) {
			var sys = res.Data.sys_info,
				ac = res.Data.ac_info,
				wifi = res.Data.wifi_info;
			
			$("ssid1").innerHTML = (wifi.ssid1 || "-") + " / " + (wifi.ssid1_5g || "-");
			$("ssid2").innerHTML = (wifi.ssid2 || "-") + " / " + (wifi.ssid2_5g || "-");
			$("ssid3").innerHTML = (wifi.ssid3 || "-") + " / " + (wifi.ssid3_5g || "-");
			$("ssid4").innerHTML = (wifi.ssid4 || "-") + " / " + (wifi.ssid4_5g || "-");

			if (ac.linktime > 0) {
				show($("lang19"));
				hide($("lang20"));
			} else {
				show($("lang20"));
				hide($("lang19"));
			}
			if (ac.nonsupport * 1 == 1) {
				hide($("lang22"));
				show($("lang23"));
			} else {
				show($("lang22"));
				hide($("lang23"));
			}
			$("ipaddr").innerHTML = ac.ipaddr;
			$("uptime").innerHTML = setTime(sys.uptime);
			$("linktime").innerHTML = setTime(ac.linktime);
			$("comment").innerHTML = ac.comment;
			$("modelname").innerHTML = sys.modelname;
			$("model").innerHTML = sys.modelname;
			$("verstring").innerHTML = sys.verstring;
			$("version").innerHTML = sys.version;
			$("device_mac").innerHTML = sys.device_mac;
		}, function(err) {
			alert(err);
		});
	}
	function setTime(ts) {
		var la = [
			["", "天", "d", "天"],
			["", "时", "h", "時"],
			["", "分", "m", "分"],
			["", "秒", "s", "秒"],
		], i = langIndex;

		if (ts <= 0) {
			return "";
		}

		var days = (ts / 86400) >> 0;
		var surplus = ts % 86400;
		var hours = (surplus / 3600) >> 0;
		surplus = surplus % 3600;
		var minuts = (surplus / 60) >> 0;
		var seconds = surplus % 60;

		return (days > 0 ? days + la[0][i] : "") + 
			(hours > 0 ? hours + la[1][i] : "") + 
			(minuts > 0 ? minuts + la[2][i] : "") + 
			(seconds > 0 ? seconds + la[3][i] : "");
	}
	function workmode() {
		hide($('hintWindow'));
		ajaxPost("/Action/call", {
			func_name: 'apsysinfo',
			action: 'switch_apmode'
		}, function(res) {}, function(err) { });
	}
	function logout() {
		setCookie('login', '', -1);
		setCookie('username', '', -1);
		setCookie('sess_key', '', -1);
		location.href = location.origin + '/login';
	}
</script>
<script type="module">
	var app = new Vue({
		el: '#app',
		data: {
			result: "",
            installed: [],
            loading: false,
            loading_text: "",
			autostart: true
		},
		created() {
			this.loadInitData();
		},
		methods: {
			loadInitData() {
                var payload = {
                    func_name: 'plugin_pgstore',
                    action: 'show',
                    param: {TYPE: 'data'}
                };
                AjaxPost('/Action/call', payload, (response) => {
                    if (response.Result % 10000 == 0 && response.Data) {
                        const data = response.Data;
                        this.installed = data.installed;
                    }
                });
                
            },
			getLogoUrl(item) {
                const protocol = window.location.protocol;
                const host = window.location.hostname;
                const port = window.location.port ? `:${window.location.port}` : '';
                return `${protocol}//${host}${port}/plugins/${item.name}/logo.png`;
            },
			getLinkUrl(item) {
                const protocol = window.location.protocol;
                const host = window.location.hostname;
                const port = window.location.port ? `:${window.location.port}` : '';
                return `${protocol}//${host}${port}/plugins/${item.name}/index.html`;
            },
			uploadFiramware() {
                var fileInput = document.getElementById('sysupgradefileUploads');
                var file = fileInput.files[0];

                if (!file) {
                    return;
                }

                self=this;
                self.loading = true;
                self.loading_text = "正在上传升级文件...";

				var fileName='file-' + Date.now() + '.bin';
                var formData = new FormData();
                formData.append(fileName, file);

                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/Action/upload', true);
				xhr.upload.onprogress = function(event) {
					if (event.lengthComputable) {
						var percentComplete = Math.round((event.loaded * 100) / event.total);
						self.loading_text = "正在上传升级文件... " + percentComplete + "%";
					}
				};
                xhr.onload = function () {
                    if (xhr.status == 200) {
						self.loading = false;
                        app.parseFile(fileName);
                    } else {
                        self.loading = false;
                        self.$message.error('升级文件上传失败！');
                    }
                };

				xhr.onerror = function () {
					self.loading = false;
					self.$message.error('网络错误，上传失败');
				};
                xhr.send(formData);
            },
			parseFile(filename) {
				self=this;
				self.loading = true;
                self.loading_text = "正在解析升级包...";
                var payload = {
                    func_name: 'upgrade',
                    action: 'parse_file',
                    param: {filename: filename}
                };
                AjaxPost('/Action/call', payload, (response) => {
                    if (response.Result % 10000 == 0) {
                        self.loading = false;
						app.showParseResult();
                    } else {
                        self.loading = false;
                        self.$message.error(`解析升级包失败,固件不兼容！${response.ErrMsg}`);
                    }
                });

			},
			showParseResult() {
				self=this;
                var payload = {
                    func_name: 'upgrade',
                    action: 'show',
                    param: {TYPE: "fileinfo"}
                };
                AjaxPost('/Action/call', payload, (response) => {
                    if (response.Result % 10000 == 0) {
                        self.loading = false;
						const formatSize = (bytes) => {
							return (bytes / (1024 * 1024)).toFixed(2) + ' MB';
						};

						const formatTimestamp = (timestamp) => {
							const date = new Date(timestamp * 1000); // 假设是秒级时间戳，转成毫秒
							const year = date.getFullYear();
							const month = String(date.getMonth() + 1).padStart(2, '0');
							const day = String(date.getDate()).padStart(2, '0');
							const hours = String(date.getHours()).padStart(2, '0');
							const minutes = String(date.getMinutes()).padStart(2, '0');
							const seconds = String(date.getSeconds()).padStart(2, '0');
							return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;
						};

						const fileInfo = response.Data.fileinfo;

                        self.$confirm(`<div style="text-align: left; margin-left: 20px;">
						<p>固件名称: ${fileInfo.firmwarename}</p>
						<p>版本号: ${fileInfo.version}</p>
						<p>文件大小: ${formatSize(fileInfo.length)}</p>
                        <p >版本时间: ${formatTimestamp(fileInfo.timestamp)}</p>
						</div>`, '文件信息', {
							confirmButtonText: '立即升级',
							cancelButtonText: '取消',
							dangerouslyUseHTMLString: true,
							showCancelButton: true,
						}).then(() => {
							self.$confirm('请注意：点击确认后，路由开始升级并将自动重启，重启期间网络会断开，请确定是否继续？',
							 	'提示', {
								confirmButtonText: '确定',
								cancelButtonText: '取消',
								showCancelButton: true,
							}).then(() => {
								app.upgradeSystem();
							}).catch(() => {});
						}).catch(() => {});
                    } else {
                        self.loading = false;
                        self.$message.error(`刷写系统失败！${response.ErrMsg}`);
                    }
                });

			},
            upgradeSystem() {
                self=this;
                var payload = {
                    func_name: 'upgrade',
                    action: 'update_file',
                    param: {}
                };
                AjaxPost('/Action/call', payload, (response) => {
                    if (response.Result % 10000 == 0) {
                        self.loading = false;
						self.$confirm(`<div style="text-align: left; margin-left: 20px;">
						<p>操作成功! 正在升级固件，系统将自动重启</p>
						<p style="color: red;">注意：升级过程中请勿断电，请耐心等待升级完成</p>
						</div>`,
							'注意', {
							confirmButtonText: '确定',
							showCancelButton: false,
							dangerouslyUseHTMLString: true,
						}).then(() => {}).catch(() => {});
                    } else {
                        self.loading = false;
                        self.$message.error(`刷写系统失败！${response.ErrMsg}`);
                    }
                });
            },
		}
	});
</script>
</html>